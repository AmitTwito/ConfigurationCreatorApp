<form id="addUserForm" action="/users/add" method="post"></form>
<div class="table" style="text-align:center">
    <table class="table table-hover table-bordered bg-white">
        <thead class="thead-light">
        <tr>
            <th scope="col">Type</th>
            <th scope="col">Email</th>
            <th scope="col">Password</th>
            <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        {% for user in state.users %}
        <tr>
            <td>
                {{user.type}}
            </td>
            <td>
                {{user.email}}
            </td>
            <td>
                {{user.password}}
            </td>
            <td>
                <a href="/users/delete/{{loop.index}}" class="btn btn-danger">Delete</a>
            </td>
        </tr>
        {% endfor %}
        <tr>
            <td>
                <div class="dropdown" style="max-width:100%;">
                    <select class="form-select" name="selected-user-type" id="selected-user-type" form="addUserForm">
                        {% for type in state.config_options.user_types %}
                        <option value="{{loop.index}}">{{type.name}}</option>
                        {% endfor %}
                    </select>
                </div>
            </td>
            <td>
                <input class="form-control" name="new-user-email" type="text" form="addUserForm">
            </td>
            <td>
                <input class="form-control" name="new-user-password" type="text" form="addUserForm">
            </td>
            <td>
                <button type="submit" class="btn btn-primary" form="addUserForm">Add</button>
            </td>
        </tr>
        </tbody>
    </table>
</div>